{"version":3,"sources":["webpack:///./src/views/judge-exam/index.js","webpack:///./src/views/judge-exam/index.less","webpack:///./src/views/judge-exam/index.less?d3c6"],"names":["ReactHighcharts","require","Highcharts","colorTheme","0","1","2","3","4","5","index","total","option","correctCount","errorCount","y","b","t","_this","props","history","go","f","r","e","p","key","value","list","this","teacherQuestion","filter","item","is_error","length","setState","log","chart","type","height","backgroundColor","options3d","enabled","alpha","beta","colors","title","text","tooltip","pointFormat","plotOptions","pie","depth","allowPointSelect","cursor","dataLabels","showInLegend","series","name","data","sliced","selected","navBar","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_mobile_lib_nav_bar__WEBPACK_IMPORTED_MODULE_1___default","style","parseInt","Math","random","color","mode","onLeftClick","gotoLast","leftContent","antd_mobile_lib_icon__WEBPACK_IMPORTED_MODULE_3___default","rightContent","className","collection_info","note","correctCell","state","duration","hchart","id","config","content","Component","connect","module","exports","__webpack_require__","push","i","iEyZ","n","hmr","transform","insertInto","locals"],"mappings":"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","file":"12.8adb321433e8dc8e1f82.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { List, NavBar, Icon, Pagination, Button, Toast } from \"antd-mobile\";\nimport { connect } from \"react-redux\";\nconst Highcharts = require(\"highcharts\");\nconst ReactHighcharts = require(\"react-highcharts\"); // Expects that Highcharts was loaded in the code.\n\nrequire(\"highcharts-3d\")(ReactHighcharts.Highcharts);\n// // Load module after Highcharts is loaded\n// require(\"highcharts/modules/exporting\")(Highcharts);\n// log(Highcharts);\nimport \"./index.less\";\nconst colorTheme = {\n  0: \"#e84118\",\n  1: \"#00a8ff\",\n  2: \"#fbc531\",\n  3: \"#4cd137\",\n  4: \"#487eb0\",\n  5: \"#9c88ff\"\n};\nclass index extends Component {\n  state = {\n    total: 0,\n    option: {},\n    correctCount: 0,\n    errorCount: 0\n  };\n  componentDidMount() {\n    let { teacherQuestion } = this.props;\n    let list = teacherQuestion.list;\n    let correctList = list.filter(item => {\n      if (item.is_error === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    let correctCount = correctList.length || 0;\n    let errorCount = list.length - correctCount;\n    this.setState({\n      correctCount,\n      errorCount\n    });\n    log(correctCount, errorCount);\n    let option = {\n      chart: {\n        type: \"pie\",\n        height: 300,\n        backgroundColor: \"transparent\",\n        options3d: {\n          enabled: true,\n          alpha: 45,\n          beta: 0\n        }\n      },\n      colors: [\"#65D139\", \"#e84118\"],\n      title: {\n        text: \"答题对错占比\"\n      },\n      tooltip: {\n        pointFormat: \"{series.name}: <b>{point.percentage:.1f}%</b>\"\n      },\n      plotOptions: {\n        pie: {\n          depth: 35,\n          allowPointSelect: true,\n          cursor: \"pointer\",\n          dataLabels: {\n            enabled: false\n          },\n          showInLegend: true\n        }\n      },\n      series: [\n        {\n          type: \"pie\",\n          name: \"比例\",\n          data: [\n            { name: \"正确\", y: correctCount },\n            {\n              name: \"错误\",\n              y: errorCount,\n              sliced: true,\n              selected: true\n            }\n          ]\n        }\n      ]\n    };\n    // Highcharts.chart(\"highcharts\", option);\n    this.setState({\n      option\n    });\n  }\n  gotoLast = () => {\n    this.props.history.go(-1);\n  };\n  render() {\n    let { teacherQuestion } = this.props;\n    log(teacherQuestion);\n    const navBar = (\n      <NavBar\n        style={{\n          backgroundColor: colorTheme[parseInt(Math.random() * 10) % 5],\n          color: \"#fff\"\n        }}\n        mode=\"light\"\n        onLeftClick={this.gotoLast}\n        leftContent={<Icon type=\"left\" />}\n        rightContent={[<Icon key=\"1\" type=\"ellipsis\" />]}\n      >\n        Review and learn\n      </NavBar>\n    );\n    const title = (\n      <div className=\"title\">\n        <h2>答卷总结</h2>\n        <div className=\"exam\">\n          {teacherQuestion && teacherQuestion.collection_info.name}\n          <p>\n            {teacherQuestion && teacherQuestion.collection_info.note}{\" \"}\n            <span>[{teacherQuestion && teacherQuestion.list.length}道题]</span>\n          </p>\n        </div>\n      </div>\n    );\n    const correctCell = (\n      <div className=\"correct\">\n        答对了<span>{this.state.correctCount}</span>题，答错了\n        <span>{this.state.errorCount}</span>题， 用时\n        <span>{this.props.teacherQuestion.duration}</span>秒\n      </div>\n    );\n    const chart = (\n      <div id=\"highcharts\" className=\"chart\">\n        chart\n      </div>\n    );\n    const hchart = <ReactHighcharts config={this.state.option} />;\n    const content = (\n      <div className=\"content\">\n        {title}\n        {correctCell}\n        {hchart}\n      </div>\n    );\n    return (\n      <div className=\"judge-exam\">\n        {navBar}\n        {content}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  teacherQuestion: state.teacherQuestion\n});\nexport default connect(mapStateToProps)(index);\n","exports = module.exports = require(\"../../../node_modules/_css-loader@1.0.1@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".judge-exam {\\n  margin-top: 5px;\\n  margin-bottom: 88px;\\n}\\n.judge-exam .am-navbar-title {\\n  color: #fff;\\n}\\n.judge-exam .content {\\n  padding: 0 20px;\\n}\\n.judge-exam .content .title {\\n  font-size: 16px;\\n  line-height: 40px;\\n  padding: 10px 10px 0px 10px;\\n  border-bottom: 1px solid #ddd;\\n}\\n.judge-exam .content .title h2 {\\n  font-weight: normal;\\n  text-align: center;\\n  line-height: 35px;\\n  border-bottom: 1px solid #ddd;\\n}\\n.judge-exam .content .title p {\\n  font-size: 14px;\\n  color: #666;\\n  margin: 0;\\n  margin-left: 5px;\\n  line-height: 30px;\\n}\\n.judge-exam .content .title p span {\\n  font-size: 12px;\\n  margin-left: 5px;\\n  color: #65d139;\\n}\\n.judge-exam .content .correct {\\n  line-height: 40px;\\n  border-bottom: 1px solid #ddd;\\n}\\n.judge-exam .content .correct span {\\n  font-size: 18px;\\n  padding: 0 5px;\\n  color: #65d139;\\n}\\n.judge-exam .content .chart {\\n  width: 100%;\\n  height: 200px;\\n  border: 1px solid #ddd;\\n}\\n.judge-exam .content .highcharts-background {\\n  background: transparent;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/_style-loader@0.23.1@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}