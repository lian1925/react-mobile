(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2taP":function(e,t,n){"use strict";var r=n("HJ2O"),a=n.n(r),o=n("A4dA"),i=n.n(o),s=n("f0Pt"),c=n.n(s),l=n("48TQ");n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h});var u=n("fus+"),d=function(e){var t,n=e.method,r=e.url,o=e.data,s=e.isFullURL;return new Promise((t=i()(a.a.mark(function e(t,i){var d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:log(1,s),r=s?r:"http://39.108.194.159:8080"+r,d=Object(l.a)("token"),p={Authorization:d},c()({method:n,url:r,data:o,timeout:7e3,headers:p}).then(function(e){if(200===e.status&&e.data&&0===e.data.returnCode)if(e.data.encript){var n=e.data.data,r=u.AES.decrypt(n,"lian");n=JSON.parse(r.toString(u.enc.Utf8)),e.data.data=n,t(e.data)}else t(e.data);else if(200===e.status&&e.data&&0!==e.data.returnCode){var a={errCode:e.data.returnCode,errMsg:e.data.returnMsg};i(a)}else i({errCode:-1,errMsg:"请求失败"})}).catch(function(e){log(e),i({errCode:-1,errMsg:"请求失败"})});case 5:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)}))},p=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=Object.keys(t);return e=0===r.length?e:e+"?"+r.map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),d({url:e,data:{},method:"get",isFullURL:n})},h=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return d({url:e,data:t,method:"post"})}},GoMC:function(e,t,n){var r=n("e6oz");"string"==typeof r&&(r=[[e.i,r,""]]);n("7B2p")(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},K9CR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return{type:"SET_TEACHER_QUESTION",value:e}}},e6oz:function(e,t,n){(e.exports=n("aQ7W")(!1)).push([e.i,".look-exam {\n  margin-top: 5px;\n  margin-bottom: 88px;\n}\n.look-exam .am-navbar-title {\n  color: #fff;\n}\n.look-exam .pagination {\n  margin: 20px;\n}\n.look-exam .content {\n  padding: 0 20px;\n}\n.look-exam .content .header {\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  line-height: 35px;\n  border-bottom: 1px solid #ddd;\n}\n.look-exam .content .question {\n  padding: 20px 0;\n  border-bottom: 1px solid #ddd;\n}\n.look-exam .content .question .title {\n  font-size: 14px;\n  line-height: 25px;\n}\n.look-exam .content .question .checkbox {\n  box-sizing: border-box;\n  display: inline-block;\n  text-align: center;\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  border: 1px solid grey;\n  border-radius: 11px;\n  margin: 5px;\n}\n",""])},"r/6S":function(e,t,n){"use strict";n.r(t),n("z6Jr");var r=n("ab6J"),a=n.n(r),o=(n("IWID"),n("0BXe")),i=n.n(o),s=(n("PAZs"),n("yNfe")),c=n.n(s),l=(n("KW2r"),n("q391")),u=n.n(l),d=n("b4l6"),p=n.n(d),h=n("0wiU"),f=n.n(h),m=n("SnMR"),g=n.n(m),x=n("GZrC"),v=n.n(x),b=n("nH91"),y=n.n(b),k=n("ut94"),w=n.n(k),C=n("ee8y"),E=n.n(C),_=(n("uqRu"),n("iQxK")),N=n.n(_),S=n("rdAL"),L=n.n(S),Q=n("2taP"),q=(n("GoMC"),n("K9CR")),A=n("uuwp"),I=(N.a.Item.Brief,{prevText:"Prev",nextText:"Next"}),R={0:"#e84118",1:"#00a8ff",2:"#fbc531",3:"#4cd137",4:"#487eb0",5:"#9c88ff"},z=0,O=function(e){function t(){var e,n;p()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=g()(this,(e=v()(t)).call.apply(e,[this].concat(a))),E()(w()(w()(n)),"state",{questionList:[],current:1}),E()(w()(w()(n)),"init",function(){var e=n.props.teacherQuestion.list.map(function(e){return e.user_answer="",e});n.setState({questionList:e})}),E()(w()(w()(n)),"handleClick",function(e){n.props.history.push("/collection-word?collection_id=".concat(e)),log(e)}),E()(w()(w()(n)),"gotoLast",function(){n.props.history.go(-1)}),E()(w()(w()(n)),"handlePaginationChange",function(e){e>=n.props.teacherQuestion.list.length&&u.a.info("已达终点",2),n.setState({current:e})}),E()(w()(w()(n)),"sendAnswerNote",function(e){Object(Q.b)("/api/exam_boot/teacher-user-answer",e).then(function(e){log(e)}).catch(function(e){log(e)})}),E()(w()(w()(n)),"selectItem",function(e){var t=n.state,r=t.questionList,a=t.current,o=w()(w()(n));r=r.map(function(t,r){if(r===a-1){t.user_answer=e,t.answer===e&&void 0===t.is_error?t.is_error=0:t.is_error=1;var o={teacher_id:t.id,user_answer:e,user_id:n.props.teacherQuestion.user_id,is_error:t.is_error};n.sendAnswerNote(o)}return t}),n.setState({questionList:r}),e==(r[a-1]&&r[a-1].answer)?u.a.info("回答正确",2,function(){if((a+=1)>r.length){var e={list:r};return n.props.setValue(e),o.props.history.push("/judge-exam"),void(a=r.length)}n.setState({current:a})}):u.a.info("回答错误",2)}),n}return y()(t,e),f()(t,[{key:"componentDidMount",value:function(){z=new Date,this.init()}},{key:"componentWillUnmount",value:function(){var e=new Date-z,t={duration:e=parseInt(e/1e3)};this.props.setValue(t)}},{key:"render",value:function(){var e=this,t=this.state.questionList[this.state.current-1],n=t&&JSON.parse(t.optionList),r=L.a.createElement(i.a,{style:{backgroundColor:R[this.state.current%5],color:"#fff"},mode:"light",onLeftClick:this.gotoLast,leftContent:L.a.createElement(c.a,{type:"left"}),rightContent:[L.a.createElement(c.a,{key:"1",type:"ellipsis"})]},"Try and know"),o=(L.a.createElement("div",{className:"pagination"},L.a.createElement(a.a,{total:(this.props.teacherQuestion.list||[]).length,current:this.state.current,locale:I,onChange:this.handlePaginationChange})),L.a.createElement("div",{className:"header"},L.a.createElement("span",null,"单项选择题"),L.a.createElement("span",null,L.a.createElement("span",{style:{color:R[this.state.current%5],fontSize:18}},this.state.current)," ","/",this.props.teacherQuestion.list.length))),s=L.a.createElement("div",{className:"question"},L.a.createElement("div",{className:"title"},t&&t.content," ",L.a.createElement("span",{style:{fontSize:"12px",color:"RGB(101, 209, 57)"}},this.props.teacherQuestion.collection_info.name)),L.a.createElement("div",null,["A","B","C","D"].map(function(r,a){return L.a.createElement("div",{key:r,onClick:function(){e.selectItem(r)}},L.a.createElement("span",{style:r===(t&&t.user_answer)?{background:R[e.state.current%5],border:"none",color:"white"}:{},className:"checkbox"},r),L.a.createElement("span",null,n&&n[a]))}))),l=L.a.createElement("div",{style:{color:"#999",lineHeight:"35px"}},"提示：完成一道题后，自动完成跳转"),u=L.a.createElement("div",{className:"content"},o,s,l);return L.a.createElement("div",{style:{height:"35px",width:"100%",marginBottom:"-5px",backgroundColor:R[this.state.current%5]}}),L.a.createElement("div",{className:"look-exam"},r,u)}}]),t}(S.Component);t.default=Object(A.b)(function(e){return{teacherQuestion:e.teacherQuestion}},function(e){return{setValue:function(t){e(Object(q.a)(t))}}})(O)}}]);
//# sourceMappingURL=9.51239a7d90512fc3e9bf.js.map