(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"2taP":function(t,e,n){"use strict";var a=n("NTxs"),r=n.n(a),o=n("o2MN"),c=n.n(o),i=n("f0Pt"),l=n.n(i),s=n("48TQ");n.d(e,"a",function(){return d}),n.d(e,"b",function(){return h});var p=n("fus+"),u=function(t){var e=t.method,n=t.url,a=t.data,o=t.isFullURL;return new Promise(function(){var t=c()(r.a.mark(function t(c,i){var u,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:log(1,o),n=o?n:"http://39.108.194.159:8080"+n,u=Object(s.a)("token"),d={Authorization:u},l()({method:e,url:n,data:a,timeout:7e3,headers:d}).then(function(t){if(200===t.status&&t.data&&0===t.data.returnCode)if(t.data.encript){var e=t.data.data,n=p.AES.decrypt(e,"lian");e=JSON.parse(n.toString(p.enc.Utf8)),t.data.data=e,c(t.data)}else c(t.data);else if(200===t.status&&t.data&&0!==t.data.returnCode){var a={errCode:t.data.returnCode,errMsg:t.data.returnMsg};i(a)}else i({errCode:-1,errMsg:"请求失败"})}).catch(function(t){log(t),i({errCode:-1,errMsg:"请求失败"})});case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())},d=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=Object.keys(e);return t=0===a.length?t:t+"?"+a.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),u({url:t,data:{},method:"get",isFullURL:n})},h=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u({url:t,data:e,method:"post"})}},Cs0Q:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(t){return{type:"SET_KEKE_TRAIN",value:t}}},DKKb:function(t,e,n){var a=n("ZKis");"string"==typeof a&&(a=[[t.i,a,""]]);n("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(t.exports=a.locals)},ZKis:function(t,e,n){(t.exports=n("aQ7W")(!1)).push([t.i,".keke-chart {\n  margin-top: 5px;\n}\n.keke-chart .am-navbar-title {\n  color: #fff;\n}\n.keke-chart .button {\n  margin-top: 20px;\n  background-color: #00a8ff;\n  color: white;\n}\n.keke-chart .content {\n  padding: 0 20px;\n}\n.keke-chart .content .title {\n  font-size: 16px;\n  line-height: 40px;\n  padding: 10px 10px 0px 0px;\n  border-bottom: 1px solid #ddd;\n}\n.keke-chart .content .title h2 {\n  font-weight: normal;\n  text-align: center;\n  line-height: 35px;\n  border-bottom: 1px solid #ddd;\n}\n.keke-chart .content .title .tip-render {\n  font-size: 12px;\n  margin-left: 5px;\n  color: #65d139;\n}\n.keke-chart .content .title p {\n  font-size: 14px;\n  color: #666;\n  margin: 0;\n  margin-left: 5px;\n  line-height: 30px;\n}\n.keke-chart .content .title p span {\n  font-size: 12px;\n  margin-left: 5px;\n  color: #65d139;\n}\n.keke-chart .content .correct {\n  line-height: 25px;\n  border-bottom: 1px solid #ddd;\n  margin: 20px 0;\n}\n.keke-chart .content .correct span {\n  font-size: 18px;\n  padding: 0 5px;\n  color: #65d139;\n}\n.keke-chart .content .highcharts-container,\n.keke-chart .content #chart {\n  width: 100%;\n  height: 220px;\n  border-radius: 7px;\n}\n.keke-chart .content .highcharts-background {\n  background: transparent;\n}\n.keke-chart .content .qrcode {\n  text-align: center;\n}\n",""])},g5dd:function(t,e,n){"use strict";n.r(e),n("JrXl");var a=n("amw4"),r=n.n(a),o=(n("IWID"),n("0BXe")),c=n.n(o),i=(n("PAZs"),n("yNfe")),l=n.n(i),s=(n("KW2r"),n("q391")),p=n.n(s),u=n("Pjwa"),d=n.n(u),h=n("2cji"),f=n.n(h),k=n("sp3j"),m=n.n(k),g=n("vZkh"),v=n.n(g),x=n("+KCP"),b=n.n(x),y=n("rWUz"),C=n.n(y),E=n("ukVl"),w=n.n(E),N=n("rdAL"),T=n.n(N),j=n("uuwp"),K=n("Cs0Q"),z=n("2taP"),L=(n("DKKb"),n("89Ga"));n("Cwkz"),n("coXy"),n("+h0P"),n("6s6o");var O={0:"#e84118",1:"#00a8ff",2:"#fbc531",3:"#4cd137",4:"#487eb0",5:"#9c88ff"},I=parseInt(10*Math.random())%5,P=function(t){function e(){var t,n;d()(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=m()(this,(t=v()(e)).call.apply(t,[this].concat(r))),w()(C()(C()(n)),"state",{total:0,option:{},correctCount:0,errorCount:0,chartData:[]}),w()(C()(C()(n)),"gotoLast",function(){n.props.history.go(-1)}),w()(C()(C()(n)),"goToNextCollection",function(){var t=n.props.kekeTrain.collection.current+1,e={pageSize:1,pageNo:t};n.props.kekeTrain.collection.total<t?p.a.info("最后的词库",1,function(){n.props.history.push("/keke-collection")}):Object(z.a)("/api/english/keke-collection",e).then(function(t){var e={collection:{total:t.count,current:n.props.kekeTrain.collection.current+1}};n.props.setValue(e),n.props.history.push("/keke-one-collection?collection_id=".concat(t.data[0].id)),log(t)})}),n}return b()(e,t),f()(e,[{key:"componentDidMount",value:function(){var t=this.props.kekeTrain,e={};(t.wordList,t.tipCountList).forEach(function(t){e[t]=(e[t]||0)+1});var n=Object.keys(e).map(function(t){return{value:e[t],name:"提示".concat(t,"次")}});this.setState({chartData:n});var a=Object.keys(e).map(function(t){return"提示".concat(t,"次")});log(n,a);var r={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},title:{text:"提示使用统计",x:"center"},legend:{y:"bottom",data:a},grid:{bottom:120,top:20,left:80},color:["#4cd137","#00a8ff","#fbc531","#e84118","#487eb0","#9c88ff"],series:{name:"难度",type:"pie",radius:"45%",center:["50%","45%"],data:n}};L.init(document.getElementById("chart")).setOption(r)}},{key:"render",value:function(){var t=this.props.kekeTrain;log(t);var e=T.a.createElement(c.a,{style:{backgroundColor:O[I],color:"#fff"},mode:"light",onLeftClick:this.gotoLast,leftContent:T.a.createElement(l.a,{type:"left"}),rightContent:[T.a.createElement(l.a,{key:"1",type:"ellipsis"})]},"Review and learn"),n=T.a.createElement("div",{className:"title"},T.a.createElement("h2",null,"词汇总结"),T.a.createElement("div",{className:"exam"},t&&t.collection_info.name," ",T.a.createElement("span",{className:"tip-render"},"[",t.collection.current,"/",t.collection.total,"]"),T.a.createElement("p",null,t&&t.collection_info.note," ",T.a.createElement("span",null,"[",t&&t.wordList.length,"词汇]")))),a=T.a.createElement("div",{className:"correct"},"用时",T.a.createElement("span",null,this.props.kekeTrain.duration),"秒","   ",this.state.chartData.map(function(t){return T.a.createElement("div",{key:t.name,style:{display:"inline"}},T.a.createElement("span",null,t.value),"个单词",t.name,"，")})),o=T.a.createElement("div",{id:"chart",className:"chart"},"chart"),i=T.a.createElement("div",{className:"content"},n,a,o,T.a.createElement(r.a,{className:"button",onClick:this.goToNextCollection},"下一词库"));return T.a.createElement("div",{className:"keke-chart"},e,i)}}]),e}(N.Component);e.default=Object(j.b)(function(t){return{kekeTrain:t.kekeTrain}},function(t){return{setValue:function(e){t(Object(K.a)(e))}}})(P)}}]);
//# sourceMappingURL=4.de6345ef3af8d75ef547.js.map