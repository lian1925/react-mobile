(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2taP":function(t,e,n){"use strict";var a=n("NTxs"),i=n.n(a),o=n("o2MN"),r=n.n(o),s=n("f0Pt"),l=n.n(s),c=n("48TQ");n.d(e,"a",function(){return d}),n.d(e,"b",function(){return f});var u=n("fus+"),p=function(t){var e=t.method,n=t.url,a=t.data,o=t.isFullURL;return new Promise(function(){var t=r()(i.a.mark(function t(r,s){var p,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:log(1,o),n=o?n:"http://39.108.194.159:8080"+n,p=Object(c.a)("token"),d={Authorization:p},l()({method:e,url:n,data:a,timeout:7e3,headers:d}).then(function(t){if(200===t.status&&t.data&&0===t.data.returnCode)if(t.data.encript){var e=t.data.data,n=u.AES.decrypt(e,"lian");e=JSON.parse(n.toString(u.enc.Utf8)),t.data.data=e,r(t.data)}else r(t.data);else if(200===t.status&&t.data&&0!==t.data.returnCode){var a={errCode:t.data.returnCode,errMsg:t.data.returnMsg};s(a)}else s({errCode:-1,errMsg:"请求失败"})}).catch(function(t){log(t),s({errCode:-1,errMsg:t})});case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())},d=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=Object.keys(e);return t=0===a.length?t:t+"?"+a.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),p({url:t,data:{},method:"get",isFullURL:n})},f=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return p({url:t,data:e,method:"post"})}},"6qYX":function(t,e,n){var a=n("J5KQ");"string"==typeof a&&(a=[[t.i,a,""]]);n("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(t.exports=a.locals)},Cs0Q:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(t){return{type:"SET_KEKE_TRAIN",value:t}}},J5KQ:function(t,e,n){(t.exports=n("aQ7W")(!1)).push([t.i,".train-keke-container {\n  margin-top: 5px;\n}\n.train-keke-container .tip-container {\n  display: flex;\n  justify-content: flex-end;\n  margin: -20px 0;\n}\n.train-keke-container .tip-container .tip {\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n  background: #00a8ff;\n  text-align: center;\n  color: white;\n  line-height: 50px;\n  margin-right: 20px;\n}\n.train-keke-container .am-navbar-title {\n  color: #fff;\n}\n.train-keke-container .pagination {\n  margin: 20px;\n}\n.train-keke-container .content {\n  margin-top: 10px;\n}\n.train-keke-container .content .image {\n  position: relative;\n  font-size: 22px;\n}\n.train-keke-container .content .image img {\n  width: 100%;\n  height: auto;\n  border-radius: 5px;\n}\n.train-keke-container .content .image .sound-image {\n  width: 30px;\n  position: absolute;\n  right: 40px;\n  bottom: 25px;\n}\n.train-keke-container .content .image .word {\n  position: absolute;\n  left: 20px;\n  bottom: 55px;\n  padding: 0 5px;\n  color: #fff;\n}\n.train-keke-container .content .image .phonetic {\n  font-size: 18px;\n  position: absolute;\n  left: 20px;\n  bottom: 25px;\n  color: #fff;\n  padding: 0 3px;\n  line-height: 25px;\n  background: #fff;\n}\n.train-keke-container .content .image img {\n  color: #fff;\n}\n.train-keke-container .content .cell {\n  margin: 0 20px;\n  line-height: 40px;\n  border-bottom: 1px solid #ddd;\n}\n.train-keke-container .content .spell-title {\n  line-height: 40px;\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px;\n  border-bottom: 1px solid #ddd;\n}\n.train-keke-container .content .spell-title img {\n  display: inline-block;\n  width: 22px;\n}\n.train-keke-container .content .spell-title .spell {\n  font-size: 26px;\n  font-weight: 500;\n  color: #1f8ffb;\n  background: transparent;\n  border: 1px solid #1f8ffb;\n  height: 35px !important;\n  min-height: 30px;\n  border-radius: 5px;\n}\n.train-keke-container .content .spell-control {\n  margin: 20px 10px;\n}\n.train-keke-container .content .spell-control .button {\n  width: 20%;\n  display: inline-block;\n  font-size: 22px;\n  margin-bottom: 5px;\n}\n",""])},MQX1:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return i});var a=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},i=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}},vfu8:function(t,e,n){"use strict";n.r(e),n("JrXl");var a=n("amw4"),i=n.n(a),o=(n("zAxZ"),n("m0Fu")),r=n.n(o),s=(n("z6Jr"),n("ab6J")),l=n.n(s),c=(n("IWID"),n("0BXe")),u=n.n(c),p=(n("PAZs"),n("yNfe")),d=n.n(p),f=(n("KW2r"),n("q391")),h=n.n(f),m=n("Pjwa"),g=n.n(m),k=n("2cji"),v=n.n(k),b=n("sp3j"),w=n.n(b),x=n("vZkh"),y=n.n(x),C=n("+KCP"),_=n.n(C),E=n("rWUz"),T=n.n(E),L=n("ukVl"),N=n.n(L),S=(n("uqRu"),n("iQxK")),M=n.n(S),j=n("rdAL"),A=n.n(j),P=(n("2taP"),n("6qYX"),n("Cs0Q")),I=n("uuwp"),z=n("MQX1"),J=(M.a.Item.Brief,0),Q={prevText:"Prev",nextText:"Next"},B={0:"#e84118",1:"#00a8ff",2:"#fbc531",3:"#4cd137",4:"#487eb0",5:"#9c88ff"},O="abcdefghijklmnopqrstuvwxyz".split(""),K=0,U=[],R=0,X=function(t){function e(){var t,n;g()(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=w()(this,(t=y()(e)).call.apply(t,[this].concat(i))),N()(T()(T()(n)),"state",{word:n.props.kekeTrain.wordList[0],sentence_sound:{},phonetic_sound:{},collection_words:n.props.kekeTrain.wordList,current:1,spelling:"",spell_button:[],selected_letters:[],isTip:!0}),N()(T()(T()(n)),"gotoLast",function(){n.props.history.go(-1)}),N()(T()(T()(n)),"phoneticSound",function(){n.state.phonetic_sound.play()}),N()(T()(T()(n)),"handlePaginationChange",function(t){U.push(K),K=0,log(U);var e=T()(T()(n));if(t>n.props.kekeTrain.wordList.length)h.a.info("已达终点",.5,function(){var t={tipCountList:U};n.props.setValue(t),e.props.history.push("/keke-chart")});else{log(t-1);var a=new Audio(n.props.kekeTrain.wordList[t-1].pronunciation_url);a.addEventListener("ended",function(){1<=J?(e.setState({isTip:!1}),J=0):(J++,this.play())},!1),a.play();var i=new Audio("http://img.tukuppt.com/origin_music/00/85/00/mp3-5b9c6af66c768107.mp3");n.setState({current:t,phonetic_sound:a,button_sound:i,selected_letters:[],spelling:"",word:n.props.kekeTrain.wordList[t-1],isTip:!0}),n.getButtonItems(n.props.kekeTrain.wordList[t-1].word)}}),N()(T()(T()(n)),"getButtonItems",function(t){var e=t.split(""),a=Math.floor(Math.random()*(11+t.length)),i=a+15-t.length,o=O.slice(a,i).concat(e).sort(function(){return.5-Math.random()});n.setState({spell_button:o})}),N()(T()(T()(n)),"handleClickButton",function(t){var e=n.state,a=e.selected_letters,i=e.spell_button,o=e.spelling,r=e.current;e.button_sound,a.push(t),o+=i[t],n.state.button_sound.play(),n.setState({selected_letters:a,spelling:o}),o===n.state.word.word&&h.a.info("拼写成功",1,function(){n.handlePaginationChange(r+1)})}),N()(T()(T()(n)),"handleSpell",function(t){var e=t;n.setState({spelling:e},function(){n.state.button_sound.play()}),e===n.state.word.word&&h.a.info("拼写成功",1,function(){n.handlePaginationChange(n.state.current+1)})}),N()(T()(T()(n)),"deleteLetter",function(){n.state.button_sound.play();var t=n.state,e=t.selected_letters,a=(t.spell_button,t.spelling);e.pop(),a=a.slice(0,-1),n.setState({selected_letters:e,spelling:a})}),N()(T()(T()(n)),"showTip",function(){K++;var t=T()(T()(n)),e=new Audio(n.state.word.pronunciation_url);e.addEventListener("ended",function(){1<=J?(t.setState({isTip:!1}),J=0):(J++,this.play())},!1),e.play(),Object(z.a)()||n.spellCell.focus(),n.setState({isTip:!0})}),n}return _()(e,t),v()(e,[{key:"componentWillUnmount",value:function(){var t=new Date-R,e={duration:t=parseInt(t/1e3)};this.props.setValue(e)}},{key:"componentDidMount",value:function(){var t=this;R=new Date,U=[];var e=this;this.spellCell.focus();var n=new Audio("http://img.tukuppt.com/origin_music/00/85/00/mp3-5b9c6af66c768107.mp3"),a=new Audio(this.state.word.pronunciation_url);a.addEventListener("ended",function(){1<=J?(e.setState({isTip:!1}),J=0):(J++,this.play())},!1),a.play(),this.setState({button_sound:n,phonetic_sound:a}),this.getButtonItems(this.state.word.word),Object(z.a)()&&setTimeout(function(){t.setState({isTip:!1})},2e3)}},{key:"render",value:function(){var t=this,e=A.a.createElement(u.a,{style:{backgroundColor:B[this.state.current%5],color:"#fff"},mode:"light",onLeftClick:this.gotoLast,leftContent:A.a.createElement(d.a,{type:"left"}),rightContent:[A.a.createElement(d.a,{key:"1",type:"ellipsis"})]},"拼写单词"),n=A.a.createElement("div",{className:"pagination"},A.a.createElement(l.a,{total:(this.props.kekeTrain.wordList||[]).length,current:this.state.current,locale:Q,onChange:this.handlePaginationChange})),a=A.a.createElement("div",{className:"content"},A.a.createElement("div",{className:"image"},A.a.createElement("img",{src:this.state.word.profile_picture_url,alt:""}),A.a.createElement("div",{className:"word",style:{backgroundColor:B[this.state.current%5],display:this.state.isTip?"block":"none"}},this.state.word.word),A.a.createElement("div",{className:"phonetic",style:{backgroundColor:B[this.state.current%5]}},this.state.word.phonetic_symbol),A.a.createElement("img",{style:{backgroundColor:B[this.state.current%5]},className:"sound-image",src:"/images/sound.png",alt:"",onClick:this.phoneticSound})),A.a.createElement("div",{className:"cell"},this.state.word.definition),A.a.createElement("div",{className:"spell-title"},A.a.createElement("span",null,"拼写"),A.a.createElement(r.a,{className:"spell",ref:function(e){t.spellCell=e},value:this.state.spelling,onChange:this.handleSpell}),A.a.createElement("div",null,A.a.createElement("img",{src:"/images/delete.png",alt:"",onClick:this.deleteLetter}))),A.a.createElement("div",{className:"spell-control"},this.state.spell_button.map(function(e,n){return A.a.createElement(i.a,{className:"button",disabled:t.state.selected_letters.includes(n),key:JSON.stringify(e)+n,onClick:function(){return t.handleClickButton(n)}},e)}))),o=A.a.createElement("div",{className:"tip-container"},A.a.createElement("div",{onClick:this.showTip,className:"tip"},"提示"));return A.a.createElement("div",{className:"train-keke-container"},e,a,o,n)}}]),e}(j.Component);e.default=Object(I.b)(function(t){return{kekeTrain:t.kekeTrain}},function(t){return{setValue:function(e){t(Object(P.a)(e))}}})(X)}}]);
//# sourceMappingURL=6.c8a96b10386cc11cecb1.js.map