(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"0cxM":function(t,n,e){"use strict";e.d(n,"a",function(){return a});var a=function(t){return{type:"SET_COLLECTION_WORD",value:t}}},"2taP":function(t,n,e){"use strict";var a=e("NTxs"),o=e.n(a),r=e("o2MN"),i=e.n(r),l=e("f0Pt"),s=e.n(l),c=e("48TQ");e.d(n,"a",function(){return p}),e.d(n,"b",function(){return g});var u=e("fus+"),d=function(t){var n=t.method,e=t.url,a=t.data,r=t.isFullURL;return new Promise(function(){var t=i()(o.a.mark(function t(i,l){var d,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:log(1,r),e=r?e:"http://39.108.194.159:8080"+e,d=Object(c.a)("token"),p={Authorization:d},s()({method:n,url:e,data:a,timeout:7e3,headers:p}).then(function(t){if(200===t.status&&t.data&&0===t.data.returnCode)if(t.data.encript){var n=t.data.data,e=u.AES.decrypt(n,"lian");n=JSON.parse(e.toString(u.enc.Utf8)),t.data.data=n,i(t.data)}else i(t.data);else if(200===t.status&&t.data&&0!==t.data.returnCode){var a={errCode:t.data.returnCode,errMsg:t.data.returnMsg};l(a)}else l({errCode:-1,errMsg:"请求失败"})}).catch(function(t){log(t),l({errCode:-1,errMsg:"请求失败"})});case 5:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}())},p=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=Object.keys(n);return t=0===a.length?t:t+"?"+a.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&"),d({url:t,data:{},method:"get",isFullURL:e})},g=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return d({url:t,data:n,method:"post"})}},KACj:function(t,n,e){var a=e("KgO2");"string"==typeof a&&(a=[[t.i,a,""]]);e("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(t.exports=a.locals)},KgO2:function(t,n,e){(t.exports=e("aQ7W")(!1)).push([t.i,".learn-container {\n  margin-top: 5px;\n  margin-bottom: 88px;\n}\n.learn-container .am-navbar-title {\n  color: #fff;\n}\n.learn-container .pagination {\n  margin: 20px;\n}\n.learn-container .content {\n  margin-top: 10px;\n}\n.learn-container .content .image {\n  position: relative;\n  font-size: 22px;\n}\n.learn-container .content .image img {\n  width: 100%;\n  height: auto;\n  border-radius: 5px;\n}\n.learn-container .content .image .sound-image {\n  width: 30px;\n  position: absolute;\n  right: 40px;\n  bottom: 25px;\n}\n.learn-container .content .image .word {\n  position: absolute;\n  left: 20px;\n  bottom: 50px;\n}\n.learn-container .content .image .phonetic {\n  font-size: 18px;\n  position: absolute;\n  left: 20px;\n  bottom: 25px;\n  color: #fff;\n  padding: 0 3px;\n  line-height: 25px;\n  background: #fff;\n}\n.learn-container .content .image img {\n  color: #fff;\n}\n.learn-container .content .cell {\n  margin: 0 20px;\n  line-height: 40px;\n  border-bottom: 1px solid #ddd;\n}\n.learn-container .content .spell-title {\n  line-height: 40px;\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px;\n  border-bottom: 1px solid #ddd;\n}\n.learn-container .content .spell-title img {\n  display: inline-block;\n  width: 22px;\n}\n.learn-container .content .spell-title .text {\n  font-size: 26px;\n  font-weight: 500;\n  color: #1f8ffb;\n}\n.learn-container .content .spell-control {\n  margin: 20px 10px;\n}\n.learn-container .content .spell-control .button {\n  width: 20%;\n  display: inline-block;\n  font-size: 22px;\n  margin-bottom: 5px;\n}\n",""])},bPLh:function(t,n,e){"use strict";e.r(n),e("JrXl");var a=e("amw4"),o=e.n(a),r=(e("z6Jr"),e("ab6J")),i=e.n(r),l=(e("IWID"),e("0BXe")),s=e.n(l),c=(e("PAZs"),e("yNfe")),u=e.n(c),d=(e("KW2r"),e("q391")),p=e.n(d),g=e("Pjwa"),m=e.n(g),f=e("2cji"),h=e.n(f),x=e("sp3j"),b=e.n(x),v=e("vZkh"),w=e.n(v),_=e("+KCP"),y=e.n(_),C=e("rWUz"),k=e.n(C),E=e("ukVl"),N=e.n(E),j=(e("uqRu"),e("iQxK")),S=e.n(j),A=e("rdAL"),O=e.n(A),P=e("2taP"),I=(e("KACj"),e("0cxM")),L=e("uuwp"),M=(S.a.Item.Brief,"https://jiguangdanci.easylesson.cn"),B={prevText:"Prev",nextText:"Next"},z={0:"#e84118",1:"#00a8ff",2:"#fbc531",3:"#4cd137",4:"#487eb0",5:"#9c88ff"},J="abcdefghijklmnopqrstuvwxyz".split(""),K=function(t){function n(){var t,e;m()(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=b()(this,(t=w()(n)).call.apply(t,[this].concat(o))),N()(k()(k()(e)),"state",{word:{},sentence_sound:{},phonetic_sound:{},collection_words:e.props.redux.data,current:1,spelling:"",spell_button:[],selected_letters:[]}),N()(k()(k()(e)),"init",function(){var t=function(t){var n={};return e.props.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,a){n[e]=a}),n}().collection_id;log(t),Object(P.a)("".concat("/api/english/regular","/").concat(t)).then(function(t){log(t);var n=new Audio(M+"/"+t.data[0].sample_sentence_audio),a=new Audio(M+"/"+t.data[0].pronunciation_url),o=new Audio("http://img.tukuppt.com/origin_music/00/85/00/mp3-5b9c6af66c768107.mp3");e.setState({sentence_sound:n,phonetic_sound:a,button_sound:o,word:t.data[0]}),e.getButtonItems(t.data[0].word)}).catch(function(t){log(t)}),log(11,e.props.redux.data),(e.props.redux.data||[]).map(function(n,a){n.id==t&&(log(11,n),e.setState({current:a+1}))})}),N()(k()(k()(e)),"handleClick",function(t){e.props.history.push("/collection-word?collection_id=".concat(t)),log(t)}),N()(k()(k()(e)),"gotoLast",function(){e.props.history.go(-1)}),N()(k()(k()(e)),"sentenceSound",function(){e.state.sentence_sound.playbackRate=1.5,e.state.sentence_sound.play()}),N()(k()(k()(e)),"phoneticSound",function(){e.state.phonetic_sound.play()}),N()(k()(k()(e)),"handlePaginationChange",function(t){if(log(111,t),t>=e.props.redux.data.length)p.a.info("已达终点",2);else{var n=new Audio(M+"/"+e.props.redux.data[t-1].sample_sentence_audio),a=new Audio(M+"/"+e.props.redux.data[t-1].pronunciation_url),o=new Audio("http://img.tukuppt.com/origin_music/00/85/00/mp3-5b9c6af66c768107.mp3");e.setState({current:t,sentence_sound:n,phonetic_sound:a,button_sound:o,selected_letters:[],spelling:"",word:e.props.redux.data[t-1]}),e.getButtonItems(e.props.redux.data[t-1].word),log(t)}}),N()(k()(k()(e)),"getButtonItems",function(t){var n=t.split(""),a=Math.floor(Math.random()*(11+t.length)),o=a+15-t.length,r=J.slice(a,o),i=r.concat(n).sort(function(){return.5-Math.random()});e.setState({spell_button:i}),log(a,o,t.length,r,i)}),N()(k()(k()(e)),"handleClickButton",function(t){var n=e.state,a=n.selected_letters,o=n.spell_button,r=n.spelling,i=n.current;n.button_sound,a.push(t),r+=o[t],log(e.state.word.word),e.state.button_sound.play(),e.setState({selected_letters:a,spelling:r}),r===e.state.word.word&&p.a.info("拼写成功",2,function(){e.handlePaginationChange(i+1)})}),N()(k()(k()(e)),"deleteLetter",function(){e.state.button_sound.play();var t=e.state,n=t.selected_letters,a=(t.spell_button,t.spelling);n.pop(),a=a.slice(0,-1),e.setState({selected_letters:n,spelling:a})}),e}return y()(n,t),h()(n,[{key:"componentDidMount",value:function(){log(122,this.props.redux),this.init()}},{key:"render",value:function(){var t=this,n=O.a.createElement(s.a,{style:{backgroundColor:z[this.state.current%5],color:"#fff"},mode:"light",onLeftClick:this.gotoLast,leftContent:O.a.createElement(u.a,{type:"left"}),rightContent:[O.a.createElement(u.a,{key:"1",type:"ellipsis"})]},"I will get it"),e=O.a.createElement("div",{className:"pagination"},O.a.createElement(i.a,{total:(this.props.redux.data||[]).length,current:this.state.current,locale:B,onChange:this.handlePaginationChange})),a=O.a.createElement("div",{className:"content"},O.a.createElement("div",{className:"image"},O.a.createElement("img",{src:M+"/"+this.state.word.profile_picture_url,alt:""}),O.a.createElement("div",{className:"phonetic",style:{backgroundColor:z[this.state.current%5]}},"[",this.state.word.phonetic_symbol,"]"),O.a.createElement("img",{style:{backgroundColor:z[this.state.current%5]},className:"sound-image",src:"/images/sound.png",alt:"",onClick:this.phoneticSound})),O.a.createElement("div",{className:"cell"},this.state.word.definition),O.a.createElement("div",{className:"spell-title"},O.a.createElement("span",null,"拼写"),O.a.createElement("span",{className:"text"},this.state.spelling),O.a.createElement("div",null,O.a.createElement("img",{src:"/images/delete.png",alt:"",onClick:this.deleteLetter}))),O.a.createElement("div",{className:"spell-control"},this.state.spell_button.map(function(n,e){return O.a.createElement(o.a,{className:"button",disabled:t.state.selected_letters.includes(e),key:JSON.stringify(n)+e,onClick:function(){return t.handleClickButton(e)}},n)})));return O.a.createElement("div",{style:{height:"35px",width:"100%",marginBottom:"-5px",backgroundColor:z[this.state.current%5]}}),O.a.createElement("div",{className:"learn-container"},n,a,e)}}]),n}(A.Component);n.default=Object(L.b)(function(t){return{redux:t.collectionWord}},function(t){return{setValue:function(n){t(Object(I.a)(n))}}})(K)}}]);
//# sourceMappingURL=13.9e62b115f061f3d73a37.js.map