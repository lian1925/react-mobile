(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0cxM":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(t){return{type:"SET_COLLECTION_WORD",value:t}}},"2taP":function(t,e,n){"use strict";var a=n("HJ2O"),o=n.n(a),r=n("A4dA"),i=n.n(r),l=n("f0Pt"),s=n.n(l),c=n("48TQ");n.d(e,"a",function(){return p}),n.d(e,"b",function(){return g});var d=n("fus+"),u=function(t){var e,n=t.method,a=t.url,r=t.data,l=t.isFullURL;return new Promise((e=i()(o.a.mark(function t(e,i){var u,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:log(1,l),a=l?a:"http://39.108.194.159:8080"+a,u=Object(c.a)("token"),p={Authorization:u},s()({method:n,url:a,data:r,timeout:7e3,headers:p}).then(function(t){if(200===t.status&&t.data&&0===t.data.returnCode)if(t.data.encript){var n=t.data.data,a=d.AES.decrypt(n,"lian");n=JSON.parse(a.toString(d.enc.Utf8)),t.data.data=n,e(t.data)}else e(t.data);else if(200===t.status&&t.data&&0!==t.data.returnCode){var o={errCode:t.data.returnCode,errMsg:t.data.returnMsg};i(o)}else i({errCode:-1,errMsg:"请求失败"})}).catch(function(t){log(t),i({errCode:-1,errMsg:"请求失败"})});case 5:case"end":return t.stop()}},t,this)})),function(t,n){return e.apply(this,arguments)}))},p=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=Object.keys(e);return t=0===a.length?t:t+"?"+a.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),u({url:t,data:{},method:"get",isFullURL:n})},g=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return u({url:t,data:e,method:"post"})}},JtVd:function(t,e,n){(t.exports=n("aQ7W")(!1)).push([t.i,".learn-container {\n  margin-top: 5px;\n  margin-bottom: 88px;\n}\n.learn-container .pagination {\n  margin: 20px;\n}\n.learn-container .content {\n  margin-top: 10px;\n}\n.learn-container .content .image {\n  position: relative;\n  font-size: 22px;\n}\n.learn-container .content .image img {\n  width: 100%;\n  height: auto;\n  border-radius: 5px;\n}\n.learn-container .content .image .sound-image {\n  width: 30px;\n  position: absolute;\n  right: 40px;\n  bottom: 25px;\n}\n.learn-container .content .image .word {\n  position: absolute;\n  left: 20px;\n  bottom: 50px;\n}\n.learn-container .content .image .phonetic {\n  font-size: 18px;\n  position: absolute;\n  left: 20px;\n  bottom: 25px;\n}\n.learn-container .content .cell {\n  margin: 0 20px;\n  line-height: 40px;\n  border-bottom: 1px solid #ddd;\n}\n.learn-container .content .spell-title {\n  line-height: 40px;\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px;\n  border-bottom: 1px solid #ddd;\n}\n.learn-container .content .spell-title img {\n  display: inline-block;\n  width: 22px;\n}\n.learn-container .content .spell-control {\n  margin: 20px 10px;\n}\n.learn-container .content .spell-control .button {\n  width: 20%;\n  display: inline-block;\n}\n",""])},KACj:function(t,e,n){var a=n("JtVd");"string"==typeof a&&(a=[[t.i,a,""]]);n("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(t.exports=a.locals)},bPLh:function(t,e,n){"use strict";n.r(e),n("JrXl");var a=n("amw4"),o=n.n(a),r=(n("z6Jr"),n("ab6J")),i=n.n(r),l=(n("IWID"),n("0BXe")),s=n.n(l),c=(n("PAZs"),n("yNfe")),d=n.n(c),u=(n("KW2r"),n("q391")),p=n.n(u),g=n("b4l6"),h=n.n(g),m=n("0wiU"),f=n.n(m),x=n("SnMR"),v=n.n(x),b=n("GZrC"),w=n.n(b),_=n("nH91"),y=n.n(_),C=n("ut94"),E=n.n(C),k=n("ee8y"),N=n.n(k),S=(n("uqRu"),n("iQxK")),A=n.n(S),j=n("rdAL"),L=n.n(j),M=n("2taP"),O=(n("KACj"),n("0cxM")),I=n("uuwp"),J=(A.a.Item.Brief,"https://jiguangdanci.easylesson.cn"),P={prevText:"Prev",nextText:"Next"},R="abcdefghijklmnopqrstuvwxyz".split(""),B=function(t){function e(){var t,n;h()(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=v()(this,(t=w()(e)).call.apply(t,[this].concat(o))),N()(E()(E()(n)),"state",{word:{},sentence_sound:{},phonetic_sound:{},collection_words:n.props.redux.data,current:1,spelling:"",spell_button:[],selected_letters:[]}),N()(E()(E()(n)),"init",function(){var t,e,a=(t=n.props.location.search,e={},t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,a){e[n]=a}),e).collection_id;log(a),Object(M.a)("".concat("/api/english/regular","/").concat(a)).then(function(t){log(t);var e=new Audio(J+"/"+t.data[0].sample_sentence_audio),a=new Audio(J+"/"+t.data[0].pronunciation_url);n.setState({sentence_sound:e,phonetic_sound:a,word:t.data[0]}),n.getButtonItems(t.data[0].word)}).catch(function(t){log(t)}),log(11,n.props.redux.data),(n.props.redux.data||[]).map(function(t,e){t.id==a&&(log(11,t),n.setState({current:e+1}))})}),N()(E()(E()(n)),"handleClick",function(t){n.props.history.push("/collection-word?collection_id=".concat(t)),log(t)}),N()(E()(E()(n)),"gotoLast",function(){n.props.history.go(-1)}),N()(E()(E()(n)),"sentenceSound",function(){n.state.sentence_sound.playbackRate=1.5,n.state.sentence_sound.play()}),N()(E()(E()(n)),"phoneticSound",function(){n.state.phonetic_sound.play()}),N()(E()(E()(n)),"handlePaginationChange",function(t){log(t);var e=new Audio(J+"/"+n.props.redux.data[t-1].sample_sentence_audio),a=new Audio(J+"/"+n.props.redux.data[t-1].pronunciation_url);n.setState({current:t,sentence_sound:e,phonetic_sound:a,selected_letters:[],spelling:"",word:n.props.redux.data[t-1]}),n.getButtonItems(n.props.redux.data[t-1].word),log(t)}),N()(E()(E()(n)),"getButtonItems",function(t){var e=t.split(""),a=Math.floor(Math.random()*(11+t.length)),o=a+15-t.length,r=R.slice(a,o),i=r.concat(e).sort(function(){return.5-Math.random()});n.setState({spell_button:i}),log(a,o,t.length,r,i)}),N()(E()(E()(n)),"handleClickButton",function(t){var e=n.state,a=e.selected_letters,o=e.spell_button,r=e.spelling,i=e.current;a.push(t),r+=o[t],log(n.state.word.word),n.setState({selected_letters:a,spelling:r}),r===n.state.word.word&&p.a.info("拼写成功",2,function(){n.handlePaginationChange(i+1)})}),N()(E()(E()(n)),"deleteLetter",function(){var t=n.state,e=t.selected_letters,a=(t.spell_button,t.spelling);e.pop(),a=a.slice(0,-1),n.setState({selected_letters:e,spelling:a})}),n}return y()(e,t),f()(e,[{key:"componentDidMount",value:function(){log(122,this.props.redux),this.init()}},{key:"render",value:function(){var t=this,e=L.a.createElement(s.a,{mode:"light",onLeftClick:this.gotoLast,leftContent:L.a.createElement(d.a,{type:"left"}),rightContent:[L.a.createElement(d.a,{key:"1",type:"ellipsis"})]},"Remember English"),n=L.a.createElement("div",{className:"pagination"},L.a.createElement(i.a,{total:(this.props.redux.data||[]).length,current:this.state.current,locale:P,onChange:this.handlePaginationChange})),a=L.a.createElement("div",{className:"content"},L.a.createElement("div",{className:"image"},L.a.createElement("img",{src:J+"/"+this.state.word.profile_picture_url,alt:""}),L.a.createElement("div",{className:"phonetic"},"[",this.state.word.phonetic_symbol,"]"),L.a.createElement("img",{className:"sound-image",src:"/images/sound.png",alt:"",onClick:this.phoneticSound})),L.a.createElement("div",{className:"cell"},this.state.word.definition),L.a.createElement("div",{className:"spell-title"},L.a.createElement("span",null,"拼写"),L.a.createElement("span",null,this.state.spelling),L.a.createElement("div",null,L.a.createElement("img",{src:"/images/delete.png",alt:"",onClick:this.deleteLetter}))),L.a.createElement("div",{className:"spell-control"},this.state.spell_button.map(function(e,n){return L.a.createElement(o.a,{className:"button",disabled:t.state.selected_letters.includes(n),key:JSON.stringify(e)+n,onClick:function(){return t.handleClickButton(n)}},e)})));return L.a.createElement("div",{className:"learn-container"},e,a,n)}}]),e}(j.Component);e.default=Object(I.b)(function(t){return{redux:t.collectionWord}},function(t){return{setValue:function(e){t(Object(O.a)(e))}}})(B)}}]);
//# sourceMappingURL=5.1670cb553cf7a56aac86.js.map