{"version":3,"sources":["webpack:///./src/views/english/regular/index.less?0303","webpack:///./src/views/english/regular/index.less","webpack:///./src/views/english/regular/data.js","webpack:///./src/views/english/regular/index.js"],"names":["content","__webpack_require__","module","i","hmr","transform","insertInto","locals","exports","push","b6fK","e","t","n","r","o","a","l","c","s","u","p","d","g","f","m","h","v","b","x","w","E","y","S","z","I","R","k","B","C","L","j","pageRoutePath","filters","label","name","required","message","placeholder","columns","title","dataIndex","render","text","record","index","_react_16_7_0_react_default","createElement","popover","word","placement","imageHover","etymaWord","className","stringtomore","tooltip","videoHover","concat","key","width","Link","to","id","divider","type","split","map","src","alt","height","controls","searchButtonLoading","source","pagination","filterResult","current","size","_this$state","_this","state","pageSize","props","setValue","updateTable","page","_this$state2","objectSpread_default","values","_this$state3","Object","keys","forEach","item","_this$state4","Interceptor","setState","params","pageNo","get","then","res","total","data","count","success","catch","err","warn","errMsg","history","routePagePath","this","redux","showSizeChanger","onShowSizeChange","onPaginationSizeChange","onChange","onPaginationChange","showTotal","range","_this$state5","array","tableData","filter","createItem","table","Component","connect","simpleWord","dispatch","value"],"mappings":"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","file":"5.fc594121e717ab3673ea.js","sourcesContent":["\nvar content = require(\"!!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/_style-loader@0.23.1@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/_css-loader@1.0.1@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".table-collumn {\\n  width: 60px;\\n}\\n.stringtomore-collumn {\\n  cursor: pointer;\\n}\\n.image-hover {\\n  width: 100px;\\n  height: auto;\\n  border-radius: 10px;\\n}\\n.simple-container .ant-table-pagination {\\n  width: 100%;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: flex-start;\\n}\\n.simple-container .ant-pagination-total-text {\\n  float: left;\\n}\\n\", \"\"]);\n\n// exports\n","import React, { Component } from \"react\";\nimport {\n  Form,\n  Row,\n  Col,\n  Input,\n  Button,\n  Icon,\n  message,\n  Divider,\n  Tag,\n  Tooltip,\n  Pagination,\n  Popover\n} from \"antd\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport { stringtomore, numbertostring } from \"util/tool\";\n\nconst pageRoutePath = \"/regular-english\";\nconst filters = [\n  {\n    label: \"单词\",\n    name: \"word\",\n    required: false,\n    message: \"请输入单词\",\n    placeholder: \"\"\n  },\n  {\n    label: \"注释\",\n    name: \"definition\",\n    required: false,\n    message: \"请输入单词\",\n    placeholder: \"\"\n  },\n  {\n    label: \"例句\",\n    name: \"sampleSentence\",\n    required: false,\n    message: \"请输入单词\",\n    placeholder: \"\"\n  }\n];\nconst columns = [\n  {\n    title: \"序号\",\n    dataIndex: \"id\"\n  },\n  {\n    title: \"图标\",\n    dataIndex: \"profile_picture_url\",\n    render: (text, record, index) => {\n      return (\n        <Popover content={text} title={record.word} placement=\"right\">\n          {/* <span className=\"stringtomore-collumn\">{stringtomore(text)}</span> */}\n          {imageHover(text)}\n        </Popover>\n      );\n    }\n  },\n  {\n    title: \"单词\",\n    dataIndex: \"word\"\n  },\n  {\n    title: \"注释\",\n    dataIndex: \"definition\",\n    render: (text, record, index) => {\n      return (\n        <Popover content={etymaWord(text)} title=\"Title\">\n          <span className=\"stringtomore-collumn\">{stringtomore(text)}</span>\n        </Popover>\n      );\n    }\n  },\n\n  // {\n  //   title: \"音标发音\",\n  //   key: \"pronunciationURL\",\n  //   dataIndex: \"pronunciationURL\",\n  //   render: (text, record, index) => {\n  //     return (\n  //       <Popover content={soundHover(text)} title=\"详情\" trigger=\"click\">\n  //         <span>{stringtomore(text, 8)}</span>\n  //       </Popover>\n  //     );\n  //   }\n  // },\n  {\n    title: \"视频\",\n    dataIndex: \"video_path\",\n    render: (text, record, index) => {\n      return <Tooltip title={text}>{videoHover(text)}</Tooltip>;\n    }\n  },\n  {\n    title: \"音标\",\n    dataIndex: \"phonetic_symbol\",\n    render: (text, record, index) => {\n      return <span>{`[${text}]`}</span>;\n    }\n  },\n  {\n    title: \"例句\",\n    dataIndex: \"sample_sentence_2\",\n    render: (text, record, index) => {\n      return (\n        <Popover content={etymaWord(text)} title=\"详情\">\n          <span className=\"stringtomore-collumn\">{stringtomore(text)}</span>\n        </Popover>\n      );\n    }\n  },\n  // {\n  //   title: \"例句发音\",\n  //   key: \"sampleSentenceAudio\",\n  //   dataIndex: \"sampleSentenceAudio\",\n  //   render: (text, record, index) => {\n  //     return (\n  //       <Popover content={soundHover(text)} title=\"详情\" trigger=\"click\">\n  //         <span className=\"stringtomore-collumn\">{stringtomore(text, 8)}</span>\n  //       </Popover>\n  //     );\n  //   }\n  // },\n  // {\n  //   title: \"例句翻译\",\n  //   key: \"sampleSentenceTranslation\",\n  //   dataIndex: \"sampleSentenceTranslation\",\n  //   render: (text, record, index) => {\n  //     return (\n  //       <Popover content={etymaWord(text)} title=\"详情\">\n  //         <span className=\"stringtomore-collumn\">{stringtomore(text)}</span>\n  //       </Popover>\n  //     );\n  //   }\n  // },\n  // {\n  //   title: \"例句出处\",\n  //   key: \"sampleSentenceSource\",\n  //   dataIndex: \"sampleSentenceSource\",\n  //   render: (text, record, index) => {\n  //     return (\n  //       <Popover content={etymaWord(text)} title=\"详情\">\n  //         <span className=\"stringtomore-collumn\">{stringtomore(text)}</span>\n  //       </Popover>\n  //     );\n  //   }\n  // },\n  {\n    title: \"操作\",\n    key: \"action\",\n    width: \"120px\",\n    render: (text, record) => (\n      <span>\n        <Link to={`${pageRoutePath}/detail?${record.id}`}>详情</Link>\n        <Divider type=\"vertical\" />\n        <Link to={`${pageRoutePath}/edit?${record.id}`}>编辑</Link>\n      </span>\n    )\n  }\n];\nconst etymaWord = text => (\n  <div>\n    {text.split(\"\\n\").map((i, key) => {\n      return <div key={key}>{i}</div>;\n    })}\n  </div>\n);\nconst imageHost = \"https://jiguangdanci.easylesson.cn\";\nconst imageHover = text => (\n  <div>\n    <img className=\"image-hover\" src={imageHost + text} alt=\"\" />\n  </div>\n);\nconst soundHover = text => (\n  <div>\n    <audio controls autoPlay className=\"audio\" src={imageHost + text} />\n  </div>\n);\n\nconst videoHover = text => (\n  <video width=\"250\" height=\"auto\" src={text} controls />\n);\nexport { filters, columns };\n","import React, { Component } from \"react\";\nimport { setValue } from \"@/redux/simple-word\";\nimport { connect } from \"react-redux\";\nimport {\n  Form,\n  Row,\n  Col,\n  Input,\n  Button,\n  Icon,\n  message,\n  Divider,\n  Tag,\n  Tooltip,\n  Pagination\n} from \"antd\";\nimport Filter from \"co/filter\";\nimport Table from \"co/table\";\nimport \"./index.less\";\nimport { get, post } from \"util/fetch\";\n\nimport { filters, columns } from \"./data\";\n\nconst routePath = \"/api/english/regular\";\nconst routePagePath = \"/regular-english\";\nclass index extends Component {\n  state = {\n    searchButtonLoading: false,\n    source: [],\n    pagination: {},\n    filterResult: {}\n  };\n\n  componentDidMount() {\n    const pagination = {\n      current: this.props.redux.pagination.current,\n      pageSize: this.props.redux.pagination.pageSize,\n      showSizeChanger: true,\n      onShowSizeChange: this.onPaginationSizeChange,\n      onChange: this.onPaginationChange,\n      showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} items`\n    };\n    const { filterResult } = this.props.redux;\n    this.state.pagination = pagination;\n    this.state.filterResult = filterResult;\n    this.updateTable();\n  }\n  onPaginationSizeChange = (current, size) => {\n    let { pagination, filterResult } = this.state;\n    pagination.pageSize = size;\n    this.state.pagination = pagination;\n    this.props.setValue({ pagination });\n\n    this.updateTable();\n  };\n  onPaginationChange = (page, pageSize) => {\n    let { pagination, filterResult } = this.state;\n    pagination = { ...pagination, current: page, pageSize };\n    this.state.pagination = pagination;\n    this.props.setValue({ pagination });\n\n    this.updateTable();\n  };\n  filterResult = values => {\n    let { pagination, filterResult } = this.state;\n    pagination.current = 1;\n    filterResult = values;\n    Object.keys(filterResult).forEach(item => {\n      if (!filterResult[item]) {\n        filterResult[item] = \"\";\n      }\n    });\n    this.state.filterResult = filterResult;\n    this.props.setValue({ pagination, filterResult });\n    this.state.pagination = pagination;\n    this.updateTable();\n  };\n  updateTable = () => {\n    const { pagination, filterResult } = this.state;\n    if (!this.Interceptor()) {\n      return;\n    }\n    this.setState({\n      searchButtonLoading: true\n    });\n    let params = {\n      pageNo: pagination.current,\n      pageSize: pagination.pageSize,\n      ...filterResult\n    };\n    // params = Object.assign({}, params, values);\n    get(routePath, params)\n      .then(res => {\n        console.log(32, res);\n        // return;\n        pagination.total = res.data.count;\n        const source = (res.data.data || []).map((item, index) => {\n          const temp = {\n            key: item.id,\n            index: (pagination.current - 1) * pagination.pageSize + index + 1,\n            ...item\n          };\n          return temp;\n        });\n        this.setState({\n          searchButtonLoading: false,\n          source,\n          pagination\n        });\n        console.log(32, source);\n        message.success(\"查询成功\");\n      })\n      .catch(err => {\n        this.setState({\n          searchButtonLoading: false\n        });\n        console.log(32, err);\n        message.warn(err.errMsg);\n      });\n  };\n  Interceptor = () => {\n    return true;\n  };\n\n  createItem = () => {\n    this.props.history.push(routePagePath + \"/create\");\n  };\n  render() {\n    const {\n      searchButtonLoading,\n      source,\n      pagination,\n      filterResult\n    } = this.state;\n    const array = { filters, searchButtonLoading, values: filterResult };\n    const tableData = { columns, source, pagination };\n    return (\n      <div className=\"simple-container\">\n        <Filter\n          array={array}\n          filterResult={this.filterResult}\n          createItem={this.createItem}\n        />\n        <Table data={tableData} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  redux: state.simpleWord\n});\nconst mapDispatchToProps = dispatch => {\n  return {\n    setValue: value => {\n      dispatch(setValue(value));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(index);\n"],"sourceRoot":""}