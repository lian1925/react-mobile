{"version":3,"sources":["webpack:///./src/util/fetch.js","webpack:///./src/util/constant.js","webpack:///./src/util/store.js","webpack:///./src/views/login/index.less?90c9","webpack:///./src/views/login/index.less","webpack:///./src/views/login/index.js"],"names":["Ajax","_ref","_ref2","method","url","data","Promise","asyncToGenerator_default","regenerator_default","a","mark","_callee","resolve","reject","token","headers","wrap","_context","prev","next","getStore","Authorization","axios","timeout","then","res","status","returnCode","err","errCode","errMsg","returnMsg","catch","error","stop","this","_x","_x2","apply","arguments","get","length","array","Object","keys","map","item","encodeURIComponent","join","post","put","48TQ","n","t","e","__webpack_require__","d","__webpack_exports__","setStore","removeStore","name","content","JSON","stringify","window","sessionStorage","setItem","getItem","removeItem","module","i","hmr","transform","insertInto","locals","exports","push","kpHp","r","k","s","o","u","c","l","p","f","g","h","b","m","x","w","v","y","C","index","user","password","buttonDisable","type","_this$state","_this","state","setState","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default","target","value","keyCode","login","_this$state2","antd_es_message__WEBPACK_IMPORTED_MODULE_3__","info","Interceptor","_this$state3","success","props","history","warn","finally","key","_this2","_this$state4","react__WEBPACK_IMPORTED_MODULE_11___default","createElement","className","placeholder","onChange","handleChange","onKeyDown","handleKeyDown","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","loading","onClick","Component"],"mappings":"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","file":"4.a82e85c11e2b7476b28d.js","sourcesContent":["import { BASE_URL, RESPONSE_OK } from \"./constant\";\nimport axios from \"axios\";\nimport { setStore, getStore, removeStore } from \"./store\";\n\nconst Ajax = ({ method, url, data }) =>\n  new Promise(async (resolve, reject) => {\n    url = BASE_URL + url;\n    const token = getStore(\"token\");\n    const headers = {\n      Authorization: token\n    };\n    axios({\n      method,\n      url,\n      data,\n      timeout: 7000,\n      headers\n    })\n      .then(res => {\n        if (\n          res.status === 200 &&\n          res.data &&\n          res.data.returnCode === RESPONSE_OK\n        ) {\n          resolve(res);\n        } else if (\n          res.status === 200 &&\n          res.data &&\n          res.data.returnCode !== RESPONSE_OK\n        ) {\n          const err = {\n            errCode: res.data.returnCode,\n            errMsg: res.data.returnMsg\n          };\n          reject(err);\n        } else {\n          const err = {\n            errCode: -1,\n            errMsg: \"请求失败\"\n          };\n          reject(err);\n        }\n      })\n      .catch(error => {\n        const err = {\n          errCode: -1,\n          errMsg: \"请求失败\"\n        };\n        reject(err);\n      });\n  });\nconst get = (url, data = {}) => {\n  const array = Object.keys(data);\n  url =\n    array.length === 0\n      ? url\n      : url +\n        \"?\" +\n        array\n          .map(\n            item =>\n              encodeURIComponent(item) + \"=\" + encodeURIComponent(data[item])\n          )\n          .join(\"&\");\n  return Ajax({\n    url,\n    method: \"get\"\n  });\n};\n\nconst post = (url, data = {}) =>\n  Ajax({\n    url,\n    data,\n    method: \"post\"\n  });\n\nconst put = (url, data = {}) =>\n  Ajax({\n    url,\n    data,\n    method: \"put\"\n  });\n\nconst deletRequest = (url, data = {}) =>\n  Ajax({\n    url,\n    data,\n    method: \"delete\"\n  });\nexport { get, post, put, deletRequest };\n","const hosts = [\"http://localhost:8080\", \"http://39.108.194.159:8080\"];\n\nconst BASE_URL = hosts[1];\nconst RESPONSE_OK = 0;\nexport { BASE_URL, RESPONSE_OK };\n","/**\n * 存储sessionStorage\n */\nconst setStore = (name, content) => {\n  if (!name) return;\n  if (typeof content !== \"string\") {\n    content = JSON.stringify(content);\n  }\n  window.sessionStorage.setItem(name, content);\n};\n\n/**\n * 获取sessionStorage\n */\nconst getStore = name => {\n  if (!name) return;\n  return window.sessionStorage.getItem(name);\n};\n\n/**\n * 删除sessionStorage\n */\nconst removeStore = name => {\n  if (!name) return;\n  window.sessionStorage.removeItem(name);\n};\n\nexport { setStore, getStore, removeStore };\n","\nvar content = require(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/_style-loader@0.23.1@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/_css-loader@1.0.1@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".login-container {\\n  height: 100vh;\\n  width: 100%;\\n  background: #2d3a4b;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n}\\n.login-container .form-box {\\n  width: 380px;\\n  margin: 0 auto;\\n  height: 380px;\\n  background: white;\\n  border-radius: 10px;\\n  text-align: center;\\n}\\n.login-container .form-box .title-box {\\n  border-bottom: 1px solid #dddddd;\\n  line-height: 110px;\\n  text-align: left;\\n}\\n.login-container .form-box .title-box .title {\\n  font-size: 30px;\\n  color: #373d41;\\n  margin-left: 40px;\\n  padding-left: 40px;\\n  width: 100%;\\n}\\n.login-container .form-box input {\\n  margin-top: 18px;\\n  width: 300px;\\n  border: none;\\n  border-bottom: 1px solid #dddddd;\\n  padding-left: 32px;\\n  font-size: 14px;\\n  line-height: 38px;\\n}\\n.login-container .form-box input:focus {\\n  outline: none;\\n  border-bottom: 1px solid rgba(0, 120, 255, 0.5);\\n}\\n.login-container .form-box button {\\n  display: block;\\n  width: 300px;\\n  height: 60px;\\n  margin: 0 auto;\\n  margin-top: 40px;\\n  border-radius: 30px;\\n  background: linear-gradient(-180deg, #0078ff 0%, #005aff 100%);\\n  box-shadow: 0 4px 20px 0 rgba(0, 120, 255, 0.5);\\n  color: white;\\n  font-size: 18px;\\n  cursor: pointer;\\n}\\n.login-container .form-box button:focus {\\n  outline: none;\\n}\\n.login-container .form-box button:hover {\\n  box-shadow: 0 4px 20px 0 rgba(0, 120, 255, 0.3);\\n  background: linear-gradient(90deg, #0078ff 0%, #005aff 100%);\\n}\\n\", \"\"]);\n\n// exports\n","import React, { Component } from \"react\";\nimport { message, Button, Icon } from \"antd\";\nimport { get, post } from \"util/fetch\";\nimport \"./index.less\";\nimport { setStore, getStore, removeStore } from \"util/store\";\n\nexport default class index extends Component {\n  state = {\n    user: \"lian\",\n    password: \"english\",\n    buttonDisable: false\n  };\n  handleChange = (e, type) => {\n    let { user, password, buttonDisable } = this.state;\n    // this.state[type] ß= e.target.value;\n    this.setState({\n      [type]: e.target.value\n    });\n  };\n  handleKeyDown = e => {\n    if (e.keyCode == 13) {\n      this.login();\n    }\n  };\n  Interceptor = () => {\n    let { user, password } = this.state;\n\n    if (user.length === 0) {\n      message.info(\"请输入账号\");\n      return false;\n    }\n    if (password === 0) {\n      message.info(\"请输入密码\");\n      return false;\n    }\n    return true;\n  };\n  login = e => {\n    // alert(2);\n    if (!this.Interceptor()) {\n      return;\n    }\n    this.setState({\n      buttonDisable: true\n    });\n    let { user, password } = this.state;\n    post(\"/api/admin/login\", { user, password })\n      .then(res => {\n        setStore(\"token\", res.data.data.token);\n        setStore(\"user\", user);\n        message.success(res.data.returnMsg);\n        this.props.history.push(\"/simple-english\");\n      })\n      .catch(err => {\n        message.warn(err.errMsg);\n      })\n      .finally(() => {\n        this.setState({\n          buttonDisable: false\n        });\n      });\n  };\n  render() {\n    const { user, password, buttonDisable } = this.state;\n    return (\n      <div className=\"login-container\">\n        <div className=\"form-box\">\n          <div className=\"title-box\">\n            <div className=\"title\">用户登录 </div>\n          </div>\n          <input\n            className=\"input-user\"\n            type=\"text\"\n            placeholder=\"账号\"\n            value={user}\n            onChange={e => this.handleChange(e, \"user\")}\n          />\n          <input\n            className=\"input-password\"\n            type=\"password\"\n            placeholder=\"密码\"\n            value={password}\n            onChange={e => this.handleChange(e, \"password\")}\n            onKeyDown={this.handleKeyDown}\n          />\n\n          <Button loading={buttonDisable} onClick={this.login}>\n            登录\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}