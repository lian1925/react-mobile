(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0cxM":function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(t){return{type:"SET_COLLECTION_WORD",value:t}}},"2taP":function(t,n,e){"use strict";var o=e("NTxs"),a=e.n(o),i=e("o2MN"),r=e.n(i),c=e("f0Pt"),l=e.n(c),s=e("48TQ");e.d(n,"a",function(){return p}),e.d(n,"b",function(){return h});var u=e("fus+"),d=function(t){var n=t.method,e=t.url,o=t.data,i=t.isFullURL;return new Promise(function(){var t=r()(a.a.mark(function t(r,c){var d,p;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:log(1,i),e=i?e:"http://39.108.194.159:8080"+e,d=Object(s.a)("token"),p={Authorization:d},l()({method:n,url:e,data:o,timeout:7e3,headers:p}).then(function(t){if(200===t.status&&t.data&&0===t.data.returnCode)if(t.data.encript){var n=t.data.data,e=u.AES.decrypt(n,"lian");n=JSON.parse(e.toString(u.enc.Utf8)),t.data.data=n,r(t.data)}else r(t.data);else if(200===t.status&&t.data&&0!==t.data.returnCode){var o={errCode:t.data.returnCode,errMsg:t.data.returnMsg};c(o)}else c({errCode:-1,errMsg:"请求失败"})}).catch(function(t){log(t),c({errCode:-1,errMsg:t})});case 5:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}())},p=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=Object.keys(n);return t=0===o.length?t:t+"?"+o.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&"),d({url:t,data:{},method:"get",isFullURL:e})},h=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return d({url:t,data:n,method:"post"})}},M0ux:function(t,n,e){"use strict";e.r(n),e("fRyC");var o=e("Nmdf"),a=e.n(o),i=(e("IWID"),e("0BXe")),r=e.n(i),c=(e("PAZs"),e("yNfe")),l=e.n(c),s=e("Pjwa"),u=e.n(s),d=e("2cji"),p=e.n(d),h=e("sp3j"),f=e.n(h),v=e("vZkh"),g=e.n(v),m=e("+KCP"),w=e.n(m),y=e("rWUz"),E=e.n(y),x=e("ukVl"),C=e.n(x),T=(e("uqRu"),e("iQxK")),b=e.n(T),M=e("rdAL"),k=e.n(M),N=e("0cxM"),S=e("uuwp"),_=e("2taP"),O=(e("Oaao"),b.a.Item.Brief,["/api/english/collection","/api/english/collection-word"]),j=function(t){function n(){var t,e;u()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=f()(this,(t=g()(n)).call.apply(t,[this].concat(a))),C()(E()(E()(e)),"state",{collection_id:"",collection:{},collection_words:[],isTrain:!0}),C()(E()(E()(e)),"init",function(){var t=function(t){var n={};return e.props.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,o){n[e]=o}),n}().collection_id;Object(_.a)("".concat(O[0],"/").concat(t)).then(function(t){e.setState({collection:t.data[0]}),log(t)}),Object(_.a)("".concat(O[1],"?collection_id=").concat(t)).then(function(t){log(t),e.setState({collection_words:t.data}),e.props.setValue({data:t.data})}).catch(function(t){log(t)})}),C()(E()(E()(e)),"handleClick",function(t){e.state.isTrain?e.props.history.push("/train-word?collection_id=".concat(t)):e.props.history.push("/learn-word?collection_id=".concat(t)),log(t)}),C()(E()(E()(e)),"gotoLast",function(){e.props.history.go(-1)}),e}return w()(n,t),p()(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var t=this,n=k.a.createElement(r.a,{mode:"light",onLeftClick:this.gotoLast,leftContent:k.a.createElement(l.a,{type:"left"}),rightContent:[k.a.createElement(l.a,{key:"1",type:"ellipsis"})]},"That will get it"),e=k.a.createElement("div",{className:"header"},k.a.createElement("div",{className:"title"},this.state.collection.name,k.a.createElement("span",null,this.state.collection.note)),k.a.createElement("div",{className:"switch"},"复习与否",k.a.createElement(a.a,{checked:this.state.isTrain,onChange:function(){t.setState({isTrain:!t.state.isTrain})}})));log(this.state.collection_words);var o=k.a.createElement("div",{className:"list"},this.state.collection_words.map(function(n){return k.a.createElement("div",{className:"cell",key:JSON.stringify(n),onClick:function(){return t.handleClick(n.id)}},k.a.createElement("div",null,k.a.createElement("p",null,n.word," ",k.a.createElement("span",{className:"grey"},"[",n.phonetic_symbol,"]")," "),k.a.createElement("p",{className:"grey"},n.definition)))}));return k.a.createElement("div",{className:"collection-word-container"},n,e,o)}}]),n}(M.Component);n.default=Object(S.b)(function(t){return{redux:t.collectionWord}},function(t){return{setValue:function(n){t(Object(N.a)(n))}}})(j)},Oaao:function(t,n,e){var o=e("pWZC");"string"==typeof o&&(o=[[t.i,o,""]]);e("7B2p")(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},eVHG:function(t,n,e){"use strict";e.r(n);var o=e("bS4n"),a=e.n(o),i=e("6ato"),r=e.n(i),c=e("2dj7"),l=e.n(c),s=e("Xtzg"),u=e.n(s),d=e("0dFU"),p=e.n(d),h=e("rdAL"),f=e.n(h),v=e("iczh"),g=e.n(v),m=function(t){function n(){r()(this,n);var t=u()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return t.state={active:!1},t.onTouchStart=function(n){t.triggerEvent("TouchStart",!0,n)},t.onTouchMove=function(n){t.triggerEvent("TouchMove",!1,n)},t.onTouchEnd=function(n){t.triggerEvent("TouchEnd",!1,n)},t.onTouchCancel=function(n){t.triggerEvent("TouchCancel",!1,n)},t.onMouseDown=function(n){t.triggerEvent("MouseDown",!0,n)},t.onMouseUp=function(n){t.triggerEvent("MouseUp",!1,n)},t.onMouseLeave=function(n){t.triggerEvent("MouseLeave",!1,n)},t}return p()(n,t),l()(n,[{key:"componentDidUpdate",value:function(){this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"triggerEvent",value:function(t,n,e){var o="on"+t,a=this.props.children;a.props[o]&&a.props[o](e),n!==this.state.active&&this.setState({active:n})}},{key:"render",value:function(){var t=this.props,n=t.children,e=t.disabled,o=t.activeClassName,i=t.activeStyle,r=e?void 0:{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},c=f.a.Children.only(n);if(e||!this.state.active)return f.a.cloneElement(c,r);var l=c.props,s=l.style,u=l.className;return!1!==i&&(i&&(s=a()({},s,i)),u=g()(u,o)),f.a.cloneElement(c,a()({className:u,style:s},r))}}]),n}(f.a.Component),w=m;m.defaultProps={disabled:!1},e.d(n,"default",function(){return w})},pWZC:function(t,n,e){(t.exports=e("aQ7W")(!1)).push([t.i,".collection-word-container {\n  margin-top: 5px;\n}\n.collection-word-container .header {\n  font-size: 20px;\n  line-height: 40px;\n  padding: 10px 10px 0px 10px;\n  border-bottom: 1px solid #ddd;\n  display: flex;\n  justify-content: space-between;\n}\n.collection-word-container .header .title {\n  display: inline-block;\n}\n.collection-word-container .header .title span {\n  margin-left: 10px;\n  font-size: 16px;\n  color: #666;\n}\n.collection-word-container .header .switch {\n  display: inline-block;\n  font-size: 14px;\n}\n.collection-word-container .list {\n  padding: 10px 10px 0 10px;\n  font-size: 16px;\n  line-height: 30px;\n}\n.collection-word-container .list .cell {\n  border-bottom: 1px solid #ddd;\n  margin-bottom: 10px;\n  padding-bottom: 5px;\n}\n.collection-word-container .list .cell .grey {\n  color: #666;\n}\n.collection-word-container .list .cell p {\n  margin: 0;\n}\n.collection-word-container .list .cell p span {\n  margin-left: 10px;\n}\n",""])}}]);
//# sourceMappingURL=22.d1f0f1eca1f21af7e013.js.map